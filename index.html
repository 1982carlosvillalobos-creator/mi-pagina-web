<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Golden Charge Electrician Company | Fremont, CA</title>
  <meta name="description" content="Professional electrical services in Fremont, CA. Residential, commercial, emergency 24/7, smart homes & panel upgrades, high and low voltage. Free estimates. Bilingual support."/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://www.google.com/recaptcha/api.js?render=6Lc4H7UrAAAAAJ2XwlTdHoRy1HH8iQ8OmrFI3FcG"></script>
  <style>
    :root{--gold:#FFD700;--dark-blue:#0A2463;--light-gray:#F8F9FA;--transition:all .3s ease}
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
    body{background:var(--light-gray);color:#1E1E1E;line-height:1.6;overflow-x:hidden}
    html{scroll-behavior:smooth}

    header{background:linear-gradient(135deg,var(--dark-blue),#000);color:#fff;padding:.4rem 0;position:fixed;width:100%;top:0;z-index:1000;box-shadow:0 2px 10px rgba(0,0,0,.3)}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
    .header-content{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem}
    .logo{display:flex;align-items:center;gap:10px;font-size:1.8rem;font-weight:bold;color:var(--gold);text-decoration:none}
    .logo img{height:60px;width:60px;border-radius:50%;box-shadow:0 0 10px rgba(255,215,0,.3);transition:var(--transition);border:2px solid var(--gold)}
    .nav-menu{display:flex;gap:.5rem;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;padding:0 5px}
    .nav-menu::-webkit-scrollbar{display:none}
    .nav-menu a{white-space:nowrap;color:#fff;text-decoration:none;font-weight:500;padding:5px 12px;border-radius:5px;font-size:.85rem}
    .nav-menu a:hover{color:var(--gold);background:rgba(255,215,0,.1)}

    .hero{background:url('https://pub-a9f35b2b86db4656b16e6e97d0d62544.r2.dev/hero-background.jpg')center/cover;height:calc(100vh - 50px);display:flex;align-items:center;justify-content:center;position:relative;margin-top:50px;color:#fff;text-align:center;padding:0 20px}
    .hero::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.65);z-index:1}
    .hero-content{position:relative;z-index:2;max-width:900px;padding:40px;background:rgba(0,0,0,.2);border-radius:20px;backdrop-filter:blur(8px)}
    .hero h1{font-size:3.5rem;margin-bottom:1rem;color:var(--gold)}
    .hero p{font-size:1.3rem;margin-bottom:2rem}
    .btn{display:inline-block;padding:18px 45px;background:var(--gold);color:var(--dark-blue);text-decoration:none;border-radius:50px;font-weight:bold;transition:.3s;box-shadow:0 6px 20px rgba(255,215,0,.8)}
    .btn:hover{transform:translateY(-5px)}

    .services{padding:100px 0;background:#fff}
    .section-title{text-align:center;margin-bottom:60px;color:var(--dark-blue);font-size:2.5rem}
    .services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:30px}
    .service-card{background:var(--light-gray);padding:35px 30px;border-radius:15px;text-align:center;transition:var(--transition);box-shadow:0 5px 15px rgba(0,0,0,.1)}

    .calculator-section{padding:100px 20px;background:#f0f4f8}
    .calculator-wrapper{max-width:700px;margin:0 auto;background:#fff;border-radius:20px;padding:40px;box-shadow:0 10px 30px rgba(0,0,0,.1)}
    .calc-step{display:none;animation:fadeIn .5s ease}
    .calc-step.active{display:block}
    .calc-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:15px;margin-bottom:25px}
    .calc-card{display:block;border:2px solid #ddd;padding:20px;border-radius:10px;text-align:center;cursor:pointer;font-weight:600;background:#fafafa}
    .calc-card input{display:none}
    .calc-card:has(input:checked){border-color:var(--gold);background:rgba(255,215,0,.1)}
    .price-display{font-size:2.2rem;font-weight:bold;color:var(--dark-blue);text-align:center;margin:20px 0}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

    .contact{padding:100px 0;background:#fff}
    .contact-form{max-width:650px;margin:0 auto;padding:40px;background:var(--light-gray);border-radius:20px;box-shadow:0 5px 15px rgba(0,0,0,.1)}
    .form-group{margin-bottom:20px}
    .form-group label{display:block;margin-bottom:8px;color:var(--dark-blue);font-weight:500}
    .form-control{width:100%;padding:14px;border:1px solid #ccc;border-radius:10px;font-size:1rem}
    .form-control:focus{outline:none;border-color:var(--gold)}
    .form-submit{background:var(--gold);color:var(--dark-blue);border:none;padding:14px 40px;border-radius:50px;font-size:1.1rem;font-weight:bold;cursor:pointer;width:100%;margin-top:10px}
    .error-message{color:#d32f2f;font-size:0.9rem;margin-top:5px;display:none}
    .honey-pot{display:none !important}

    footer{background:var(--dark-blue);color:#ccc;padding:60px 0 30px}
    .whatsapp-btn{position:fixed;bottom:30px;right:30px;width:60px;height:60px;background:#25D366;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;box-shadow:0 4px 15px rgba(37,211,102,.4);z-index:1001}
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="container header-content">
      <a href="#home" class="logo">
        <img src="https://pub-a9f35b2b86db4656b16e6e97d0d62544.r2.dev/logo.png" alt="Golden Charge Logo"/>
        <span>Golden Charge</span>
      </a>
      <nav class="nav-menu">
        <a href="#home">Home</a><a href="#services">Services</a><a href="#calculator">Calculator</a><a href="#gallery">Gallery</a><a href="#about">About</a><a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero" id="home">
    <div class="hero-content">
      <h1>Golden Charge</h1>
      <p>Professional electrical services in Fremont, CA. Emergency 24/7, smart homes, low voltage, and more.</p>
      <a href="#contact" class="btn">Get Free Quote</a>
    </div>
  </section>

  <!-- Calculator -->
  <section class="calculator-section" id="calculator">
    <div class="container">
      <h2 class="section-title">Instant Cost Estimator</h2>
      <div class="calculator-wrapper">
        <div class="calc-step active" id="step1">
          <h3>1. Select service</h3>
          <div class="calc-options">
            <label class="calc-card"><input type="radio" name="service" value="panel-100"><span>100A Panel Upgrade</span></label>
            <label class="calc-card"><input type="radio" name="service" value="panel-200"><span>200A Panel Upgrade</span></label>
            <label class="calc-card"><input type="radio" name="service" value="ev-charger"><span>EV Charger Install</span></label>
            <label class="calc-card"><input type="radio" name="service" value="smart-home"><span>Basic Smart-Home</span></label>
          </div>
        </div>
        <div class="calc-step" id="step2">
          <h3>2. Home size</h3>
          <select id="houseSize" class="form-control" required>
            <option value="">Selectâ€¦</option>
            <option value="small">Under 1,500 sq ft</option>
            <option value="medium">1,500â€“2,500 sq ft</option>
            <option value="large">Over 2,500 sq ft</option>
          </select>
          <h3>3. Year built</h3>
          <select id="houseYear" class="form-control" required>
            <option value="">Selectâ€¦</option>
            <option value="new">After 1990</option>
            <option value="mid">1970â€“1990</option>
            <option value="old">Before 1970</option>
          </select>
          <button type="button" class="btn" onclick="calculateEstimate()">Show Estimate</button>
        </div>

        <!-- PASO 3: VERIFICACIÃ“N POR SMS -->
        <div class="calc-step" id="step3">
          <h3>ðŸ“± Verify your phone</h3>
          <p>Weâ€™ll send an SMS with your final quote.</p>

          <input type="tel" id="phone" class="form-control" placeholder="Phone (XXX-XXX-XXXX)" required
                 pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" oninput="formatPhone(this)">

          <input type="text" id="zipcode" class="form-control" placeholder="ZIP Code (CA only)" required
                 pattern="9[0-9]{4}" maxlength="5" onblur="validateZip(this)">

          <input type="email" id="email" class="form-control" placeholder="Email (optional)"
                 onblur="validateEmail(this)">

          <button type="button" class="btn" onclick="sendSMSCode()">Send SMS Code</button>
        </div>

        <!-- PASO 4: INTRODUCIR CÃ“DIGO -->
        <div class="calc-step" id="step4">
          <h3>ðŸ’¡ Enter Code</h3>
          <p>We sent a code to <strong id="phoneDisplay"></strong></p>
          <input type="text" id="smsCode" class="form-control" placeholder="6-digit code" maxlength="6">
          <button type="button" class="btn" onclick="verifySMS()">Verify & Get Quote</button>
          <button type="button" class="btn" style="background:#ccc;margin-left:10px" onclick="resendCode()">Resend</button>
        </div>

        <!-- PASO 5: PRESUPUESTO -->
        <div class="calc-step" id="step5">
          <h3>Your Quote</h3>
          <div id="finalPrice" class="price-display"></div>
          <p>Weâ€™ll contact you at <strong id="contactPhone"></strong></p>
          <button onclick="restartCalculator()" class="btn">New Quote</button>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <p>&copy; 2025 Golden Charge Electrician Company. All rights reserved.</p>
    </div>
  </footer>

  <a href="https://wa.me/15102211258" target="_blank" class="whatsapp-btn"><i class="fab fa-whatsapp"></i></a>

  <script>
    /* CALCULATOR */
    const prices = {
      "panel-100": { base:{small:3200,medium:3600,large:4000}, factor:{new:0,mid:400,old:800} },
      "panel-200": { base:{small:4800,medium:5200,large:5800}, factor:{new:0,mid:500,old:1000} },
      "ev-charger": { base:{small:850,medium:1200,large:1500}, factor:{new:0,mid:200,old:400} },
      "smart-home": { base:{small:2000,medium:3500,large:5000}, factor:{new:0,mid:300,old:600} }
    };

    const API_URL = 'https://tu-proyecto.glitch.me'; // ðŸ‘ˆ cambia a tu URL

    /* ========= CALCULADORA ========= */
    function nextStep(step) {
      document.querySelectorAll('.calc-step').forEach(s => s.classList.remove('active'));
      document.getElementById(step).classList.add('active');
    }

    function calculateEstimate() {
      const service = document.querySelector('input[name="service"]:checked')?.value;
      const size = document.getElementById('houseSize').value;
      const year = document.getElementById('houseYear').value;
      if (!service || !size || !year) { alert('Complete all fields.'); return; }

      const base = prices[service].base[size];
      const extra = prices[service].factor[year];
      const tax = (base + extra) * 0.0925;
      const total = Math.round(base + extra + tax + 400);

      document.getElementById('finalPrice').textContent = '~$' + total;
      document.getElementById('calcService').value = service;
      document.getElementById('calcSize').value = size;
      document.getElementById('calcYear').value = year;
      document.getElementById('calcTotal').value = total;
      nextStep('step3');
    }

    /* ========= SMS VERIFICATION ========= */
    let currentPhone = '';

    function formatPhone(input) {
      let v = input.value.replace(/\D/g,'');
      if (v.length >= 6) v = v.slice(0,3)+'-'+v.slice(3,6)+'-'+v.slice(6,10);
      else if (v.length >= 3) v = v.slice(0,3)+'-'+v.slice(3);
      input.value = v;
    }

    async function sendSMSCode() {
      const phone = document.getElementById('phone').value;
      const zip   = document.getElementById('zipcode').value;
      if (!phone || phone.length !== 12 || !zip || zip.length !== 5) {
        alert('Enter valid phone and ZIP'); return;
      }
      currentPhone = phone;
      document.getElementById('phoneDisplay').textContent = phone;

      try {
        const res = await fetch(`${API_URL}/send-code`, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({ phone })
        });
        const data = await res.json();
        if (data.success) nextStep('step4');
        else alert('SMS error: ' + data.error);
      } catch (e) {
        alert('Network error: ' + e.message);
      }
    }

    async function verifySMS() {
      const code = document.getElementById('smsCode').value;
      if (!code || code.length !== 6) { alert('Enter 6-digit code'); return; }
      try {
        const res = await fetch(`${API_URL}/check-code`, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({ phone: currentPhone, code })
        });
        const data = await res.json();
        if (data.success) nextStep('step5');
        else alert('Invalid code');
      } catch (e) {
        alert('Network error: ' + e.message);
      }
    }

    function resendCode() {
      sendSMSCode(); // reenviar
    }

    function restartCalculator() {
      nextStep('step1');
    }

    /* ========= VALIDACIONES ========= */
    const blockedDomains = ['mailinator.com','tempmail.com','10minutemail.com','guerrillamail.com'];
    function validateEmail(email) {
      const domain = email.value.split('@')[1];
      const error = email.parentNode.querySelector('.error-message');
      if (domain && blockedDomains.includes(domain.toLowerCase())) {
        email.setCustomValidity('Please use a real email address');
        error.style.display='block'; return false;
      } else {
        email.setCustomValidity(''); error.style.display='none'; return true;
      }
    }
    function validateZip(zip) {
      const error = zip.parentNode.querySelector('.error-message');
      if (!zip.value.startsWith('9') || zip.value.length !== 5) {
        zip.setCustomValidity('Only California ZIP codes');
        error.style.display='block'; return false;
      } else {
        zip.setCustomValidity(''); error.style.display='none'; return true;
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('input[name="service"]').forEach(r => r.addEventListener('change', () => nextStep('step2')));
    });
  </script>
</body>
</html>
